## Sytled Components CheatSheet

https://codingcheats.io/styled-components/

## End to End Testing

1. Cypress
2. Playwright

# Playwright

#### Installation

- yarn add playwright
- yarn add @playwright/test

#### Files

1. playwright.congfig.ts

```ts
// playwright.config.ts
import { type PlaywrightTestConfig, devices } from "@playwright/test";

const config: PlaywrightTestConfig = {
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  use: {
    trace: "on-first-retry",
  },
  projects: [
    {
      name: "chromium",
      use: { ...devices["Desktop Chrome"] },
    },
    {
      name: "firefox",
      use: { ...devices["Desktop Firefox"] },
    },
    {
      name: "webkit",
      use: { ...devices["Desktop Safari"] },
    },
  ],
};
export default config;
```

2. first_test.spec.ts

```ts
import { test, expect } from "@playwright/test";

test("basic test", async ({ page }) => {
  await page.goto("https://playwright.dev/");
  const title = page.locator(".navbar__inner .navbar__title");
  await expect(title).toHaveText("Playwright");
});
```

##### run test

```
1.  yarn playwright test
2.  yarn playwright test --headed
3.  yarn playwright test --project=firefox
```

Cypress

- yarn add cypress
- yarn cypress open

## End to End Testing VS Component Testing / Unit Testing

### Component Testing / Unit Testing

1. Unit Testing/Component Testing: Unit tests ensure that the individual functionality of your components, services, and other Angular entities are running properly

- Import components via cy.mount()
- Test individual components of a design system in isolation
- Ideal for testing isolated flows and components in CI

```js
import BaseModal from "./BaseModal";

it("closes when the X button is pressed", () => {
  cy.mount(<BaseModal />)
    .get("[aria-label=Close]")
    .click()
    .get("[data-testid=modal]")
    .should("not.exist");
});
```

### End to End Testing

2. End To End Testing:End-to-end tests build on this by ensuring that the user's interaction with these components and services is behaving as it should

- Visit URLs via cy.visit()
- Test flows and functionality across multiple pages.
- Ideal for testing integrated flows in CD workflows.

```js
it("only shows a promotional modal on first visit", () => {
  cy.visit("http://localhost:3000/")
    .get("[data-testid=modal]")
    .should("be.visible")
    .get("[aria-label=Close]")
    .click()

    // should not load a second time
    .reload()
    .get("[data-testid=modal]")
    .should("not.exist");
});
```
